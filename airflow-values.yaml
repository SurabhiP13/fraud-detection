executor: KubernetesExecutor

airflow:
  image:
    repository: apache/airflow
    tag: 2.8.4
    pullPolicy: IfNotPresent

postgresql:
  enabled: false

redis:
  enabled: false

webserver:
  service:
    type: NodePort

logs:
  persistence:
    enabled: false

data:
  metadataConnection:
    user: airflow
    pass: airflow123
    protocol: postgresql
    host: postgres-postgresql
    port: 5432
    db: airflow
    sslmode: disable

# Persistent Volume Claim for pipeline data
scheduler:
  extraVolumes:
    - name: pipeline-data
      persistentVolumeClaim:
        claimName: pipeline-data
  extraVolumeMounts:
    - name: pipeline-data
      mountPath: /data

webserver:
  extraVolumes:
    - name: pipeline-data
      persistentVolumeClaim:
        claimName: pipeline-data
  extraVolumeMounts:
    - name: pipeline-data
      mountPath: /data

workers:
  extraVolumes:
    - name: pipeline-data
      persistentVolumeClaim:
        claimName: pipeline-data
  extraVolumeMounts:
    - name: pipeline-data
      mountPath: /data

triggerer:
  extraVolumes:
    - name: pipeline-data
      persistentVolumeClaim:
        claimName: pipeline-data
  extraVolumeMounts:
    - name: pipeline-data
      mountPath: /data

dagProcessor:
  extraVolumes:
    - name: pipeline-data
      persistentVolumeClaim:
        claimName: pipeline-data
  extraVolumeMounts:
    - name: pipeline-data
      mountPath: /data
